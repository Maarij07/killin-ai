exports.id=475,exports.ids=[475],exports.modules={6561:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ToastProvider() from the server but ToastProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\temp\\development\\next\\kallin\\src\\contexts\\ToastContext.tsx","ToastProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useToast() from the server but useToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\temp\\development\\next\\kallin\\src\\contexts\\ToastContext.tsx","useToast")},7766:(a,b,c)=>{Promise.resolve().then(c.bind(c,80182)),Promise.resolve().then(c.bind(c,44535)),Promise.resolve().then(c.bind(c,6561)),Promise.resolve().then(c.bind(c,94149))},9614:a=>{"use strict";a.exports=JSON.parse('{"T":{"zB":"#FE5B02","ON":"#FFFFFF","XT":"#1a1a1a","Oh":{"50":"#f9fafb","Id":"#f3f4f6","zT":"#e5e7eb","Sh":"#d1d5db","jC":"#9ca3af","C2":"#6b7280","l8":"#4b5563","eD":"#374151","n4":"#1f2937","uu":"#111827"}}}')},13737:(a,b,c)=>{"use strict";c.d(b,{j2:()=>g});var d=c(34410);c(91076);var e=c(24801);let f=(0,d.Wp)({apiKey:"AIzaSyBhaPnfVZavlfHQ4UEbORmirHOhRHJvw4I",authDomain:"kallinai.firebaseapp.com",projectId:"kallinai",storageBucket:"kallinai.firebasestorage.app",messagingSenderId:"293968338314",appId:"1:293968338314:web:fe15f7265de96c6ef7bc73",measurementId:"G-1LDHKR8B7F"}),g=(0,e.xI)(f)},14101:(a,b,c)=>{"use strict";c.d(b,{D:()=>h,ThemeProvider:()=>g});var d=c(21124),e=c(38301);let f=(0,e.createContext)(void 0);function g({children:a}){let[b,c]=(0,e.useState)(!1);return(0,d.jsx)(f.Provider,{value:{isDark:b,toggleTheme:()=>{c(a=>!a)}},children:a})}function h(){let a=(0,e.useContext)(f);if(void 0===a)throw Error("useTheme must be used within a ThemeProvider");return a}},15346:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},39810:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(21124);c(38301);var e=c(14101),f=c(9614);function g({isOpen:a,onClose:b,icon:c,title:g,description:h,customContent:i,primaryButton:j,secondaryButton:k={text:"Cancel",onClick:b}}){let{isDark:l}=(0,e.D)();if(!a)return null;let m=a=>{a.target===a.currentTarget&&b()},n=j?j?.variant==="danger"?{backgroundColor:"#DC2626",color:"white",hoverBackgroundColor:"#B91C1C"}:{backgroundColor:f.T.zB,color:"white",hoverBackgroundColor:"#e54d00"}:null;return(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:m,children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:m}),(0,d.jsx)("div",{className:`relative w-full ${i?"max-w-4xl":"max-w-md"} mx-auto ${l?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-2xl border shadow-2xl`,onClick:a=>a.stopPropagation(),children:(0,d.jsxs)("div",{className:`p-8 ${i?"text-left":"text-center"}`,children:[c&&(0,d.jsx)("div",{className:`${i?"":"mx-auto"} mb-6 w-16 h-16 rounded-full flex items-center justify-center bg-orange-100 ${i?"mx-auto":""}`,children:(0,d.jsx)("div",{className:"text-orange-600",children:c})}),(0,d.jsx)("h3",{className:`text-xl font-semibold mb-3 ${i?"text-center":""} ${l?"text-white":"text-gray-900"}`,children:g}),i?(0,d.jsxs)("div",{children:[h&&(0,d.jsx)("p",{className:`text-sm mb-6 text-center leading-relaxed ${l?"text-gray-400":"text-gray-600"}`,children:h}),(0,d.jsx)("div",{className:"mb-8",children:i})]}):(0,d.jsx)("p",{className:`text-sm mb-8 leading-relaxed ${l?"text-gray-400":"text-gray-600"}`,children:h}),(0,d.jsxs)("div",{className:`flex flex-col sm:flex-row gap-3 sm:gap-4 ${!j?"justify-center":""}`,children:[(0,d.jsx)("button",{onClick:k.onClick,className:`${j?"flex-1":""} px-6 py-3 text-sm font-medium rounded-lg border transition-colors ${l?"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:k.text}),j&&n&&(0,d.jsx)("button",{onClick:j.onClick,className:"flex-1 px-6 py-3 text-sm font-medium rounded-lg transition-all duration-200 hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2",style:{backgroundColor:n.backgroundColor,color:n.color},onMouseEnter:a=>{a.currentTarget.style.backgroundColor=n.hoverBackgroundColor},onMouseLeave:a=>{a.currentTarget.style.backgroundColor=n.backgroundColor},children:j.text})]})]})})]})}},44535:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\temp\\development\\next\\kallin\\src\\contexts\\ThemeContext.tsx","ThemeProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\temp\\development\\next\\kallin\\src\\contexts\\ThemeContext.tsx","useTheme")},46479:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>i,d:()=>j});var d=c(21124),e=c(38301),f=c(73585),g=c(53482);let h=(0,e.createContext)(void 0);function i({children:a}){let[b,c]=(0,e.useState)([]),i=(a,b="info",d=5e3)=>{let e=Math.random().toString(36).substring(7),f={id:e,message:a,type:b,duration:d};c(a=>[...a,f]),setTimeout(()=>{c(a=>a.filter(a=>a.id!==e))},d)},j=a=>{c(b=>b.filter(b=>b.id!==a))};return(0,d.jsxs)(h.Provider,{value:{showToast:i,showSuccess:a=>i(a,"success"),showError:a=>i(a,"error",6e3),showWarning:a=>i(a,"warning"),showInfo:a=>i(a,"info")},children:[a,b.map((a,b)=>(0,d.jsx)(f.A,{open:!0,autoHideDuration:a.duration,onClose:()=>j(a.id),anchorOrigin:{vertical:"top",horizontal:"right"},style:{top:`${20+70*b}px`},children:(0,d.jsx)(g.A,{onClose:()=>j(a.id),severity:a.type,variant:"filled",sx:{width:"100%",fontSize:"14px",fontWeight:"medium"},children:a.message})},a.id))]})}function j(){let a=(0,e.useContext)(h);if(void 0===a)throw Error("useToast must be used within a ToastProvider");return a}},48199:(a,b,c)=>{"use strict";c.d(b,{default:()=>B});var d=c(21124),e=c(42378),f=c(38301),g=c(99999),h=c(24515),i=c(14101),j=c(46479),k=c(49387),l=c(95964),m=c(24800),n=c(19551),o=c(29431),p=c(33843),q=c(16817),r=c(70629),s=c(29954),t=c(10705),u=c(70119),v=c(39810),w=c(9614);let x=[{name:"Dashboard",href:"dashboard",icon:k.A,current:!0},{name:"User Management",href:"user-management",icon:l.A,current:!1},{name:"Assistant Management",href:"assistant-management",icon:m.A,current:!1},{name:"Admins",href:"admins",icon:n.A,current:!1},{name:"Logs",href:"logs",icon:o.A,current:!1}],y=[{name:"Settings",href:"settings",icon:p.A}];function z(...a){return a.filter(Boolean).join(" ")}function A({children:a,currentPage:b="dashboard",onNavigate:c}){let[e,k]=(0,f.useState)(!1),[l,m]=(0,f.useState)(!1),{logout:n}=(0,g.J)(),{isDark:o,toggleTheme:p}=(0,i.D)(),{showSuccess:A}=(0,j.d)(),B=()=>{m(!0)},C=async()=>{m(!1),await n(),A("You have been signed out successfully")},D=()=>{m(!1)};return(0,d.jsxs)("div",{className:`min-h-screen ${o?"dark bg-gray-900":"bg-gray-50"}`,children:[(0,d.jsxs)("div",{className:`relative z-50 lg:hidden ${e?"":"hidden"}`,children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-gray-900/80",onClick:()=>k(!1)}),(0,d.jsx)("div",{className:"fixed inset-0 flex justify-end",children:(0,d.jsxs)("div",{className:"relative ml-16 flex w-full max-w-xs flex-1",children:[(0,d.jsx)("div",{className:"absolute right-full top-0 flex w-16 justify-center pt-5",children:(0,d.jsx)("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>k(!1),children:(0,d.jsx)(q.A,{className:"h-6 w-6 text-white"})})}),(0,d.jsxs)("div",{className:`flex grow flex-col gap-y-5 overflow-y-auto px-6 pb-2 ${o?"bg-gray-800":"bg-white"} ring-1 ring-white/10`,children:[(0,d.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,d.jsx)(h.default,{src:o?"/logo-dark.png":"/logo.png",alt:"KALLIN.AI",width:112,height:112,className:"h-20 sm:h-28 w-auto transition-opacity duration-300"})}),(0,d.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,d.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,d.jsx)("li",{children:(0,d.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:x.map(a=>(0,d.jsx)("li",{children:(0,d.jsxs)("div",{className:`relative ${b===a.href?"pl-1":""}`,children:[b===a.href&&(0,d.jsx)("div",{className:"absolute left-0 top-1 bottom-1 w-1 rounded-r-full",style:{backgroundColor:w.T.zB}}),(0,d.jsxs)("button",{onClick:()=>{c?.(a.href),k(!1)},className:z(b===a.href?"text-white font-medium relative ml-2":`${o?"text-gray-300":"text-gray-700"} hover:bg-gray-100/50 transition-all duration-200`,"group flex gap-x-3 rounded-md p-3 text-sm leading-6 w-full text-left"),style:b===a.href?{backgroundColor:w.T.zB,color:"white"}:{},onMouseEnter:c=>{if(b!==a.href){c.currentTarget.style.color=w.T.zB;let a=c.currentTarget.querySelector("svg");a&&(a.style.color=w.T.zB)}},onMouseLeave:c=>{if(b!==a.href){c.currentTarget.style.color="";let a=c.currentTarget.querySelector("svg");a&&(a.style.color="")}},children:[(0,d.jsx)(a.icon,{className:"h-5 w-5 shrink-0",style:b===a.href?{color:"white"}:{}}),a.name]})]})},a.name))})}),(0,d.jsx)("li",{className:"mt-auto",children:(0,d.jsxs)("ul",{role:"list",className:"-mx-2 space-y-1",children:[y.map(a=>(0,d.jsx)("li",{children:(0,d.jsxs)("div",{className:`relative ${b===a.href?"pl-1":""}`,children:[b===a.href&&(0,d.jsx)("div",{className:"absolute left-0 top-1 bottom-1 w-1 rounded-r-full",style:{backgroundColor:w.T.zB}}),(0,d.jsxs)("button",{onClick:()=>{c?.(a.href),k(!1)},className:z(b===a.href?"text-white font-medium relative ml-2":`${o?"text-gray-300":"text-gray-700"} hover:bg-gray-100/50 transition-all duration-200`,"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-medium w-full text-left"),style:b===a.href?{backgroundColor:w.T.zB,color:"white"}:{},onMouseEnter:c=>{if(b!==a.href){c.currentTarget.style.color=w.T.zB;let a=c.currentTarget.querySelector("svg");a&&(a.style.color=w.T.zB)}},onMouseLeave:c=>{if(b!==a.href){c.currentTarget.style.color="";let a=c.currentTarget.querySelector("svg");a&&(a.style.color="")}},children:[(0,d.jsx)(a.icon,{className:"h-6 w-6 shrink-0",style:b===a.href?{color:"white"}:{}}),a.name]})]})},a.name)),(0,d.jsx)("li",{children:(0,d.jsxs)("button",{onClick:B,className:`${o?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"} group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-medium w-full text-left`,children:[(0,d.jsx)(r.A,{className:"h-6 w-6 shrink-0"}),"Logout"]})})]})})]})})]})]})})]}),(0,d.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:(0,d.jsxs)("div",{className:`flex grow flex-col gap-y-5 overflow-y-auto border-r ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} px-6`,children:[(0,d.jsx)("div",{className:"flex h-16 shrink-0 items-center",children:(0,d.jsx)(h.default,{src:o?"/logo-dark.png":"/logo.png",alt:"KALLIN.AI",width:112,height:112,className:"h-20 sm:h-28 w-auto transition-opacity duration-300"})}),(0,d.jsx)("nav",{className:"flex flex-1 flex-col",children:(0,d.jsxs)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[(0,d.jsx)("li",{children:(0,d.jsx)("ul",{role:"list",className:"-mx-2 space-y-1",children:x.map(a=>(0,d.jsx)("li",{children:(0,d.jsxs)("div",{className:`relative ${b===a.href?"pl-1":""}`,children:[b===a.href&&(0,d.jsx)("div",{className:"absolute left-0 top-1 bottom-1 w-1 rounded-r-full",style:{backgroundColor:w.T.zB}}),(0,d.jsxs)("button",{onClick:()=>{c?.(a.href)},className:z(b===a.href?"text-white font-medium relative ml-2":`${o?"text-gray-300":"text-gray-700"} hover:bg-gray-100/30 transition-all duration-200`,"group flex gap-x-3 rounded-md p-3 text-sm leading-6 w-full text-left"),style:b===a.href?{backgroundColor:w.T.zB,color:"white"}:{},onMouseEnter:c=>{if(b!==a.href){c.currentTarget.style.color=w.T.zB;let a=c.currentTarget.querySelector("svg");a&&(a.style.color=w.T.zB)}},onMouseLeave:c=>{if(b!==a.href){c.currentTarget.style.color="";let a=c.currentTarget.querySelector("svg");a&&(a.style.color="")}},children:[(0,d.jsx)(a.icon,{className:"h-5 w-5 shrink-0",style:b===a.href?{color:"white"}:{}}),a.name]})]})},a.name))})}),(0,d.jsx)("li",{className:"mt-auto",children:(0,d.jsxs)("ul",{role:"list",className:"-mx-2 space-y-1",children:[y.map(a=>(0,d.jsx)("li",{children:(0,d.jsxs)("div",{className:`relative ${b===a.href?"pl-1":""}`,children:[b===a.href&&(0,d.jsx)("div",{className:"absolute left-0 top-1 bottom-1 w-1 rounded-r-full",style:{backgroundColor:w.T.zB}}),(0,d.jsxs)("button",{onClick:()=>{c?.(a.href)},className:z(b===a.href?"text-white font-medium relative ml-2":`${o?"text-gray-300":"text-gray-700"} hover:bg-gray-100/30 transition-all duration-200`,"group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-medium w-full text-left"),style:b===a.href?{backgroundColor:w.T.zB,color:"white"}:{},onMouseEnter:c=>{if(b!==a.href){c.currentTarget.style.color=w.T.zB;let a=c.currentTarget.querySelector("svg");a&&(a.style.color=w.T.zB)}},onMouseLeave:c=>{if(b!==a.href){c.currentTarget.style.color="";let a=c.currentTarget.querySelector("svg");a&&(a.style.color="")}},children:[(0,d.jsx)(a.icon,{className:"h-6 w-6 shrink-0",style:b===a.href?{color:"white"}:{}}),a.name]})]})},a.name)),(0,d.jsx)("li",{children:(0,d.jsxs)("button",{onClick:B,className:`${o?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"} group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-medium w-full text-left`,children:[(0,d.jsx)(r.A,{className:"h-6 w-6 shrink-0"}),"Logout"]})})]})})]})})]})}),(0,d.jsxs)("div",{className:"lg:pl-72",children:[(0,d.jsxs)("div",{className:`sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b ${o?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8`,children:[(0,d.jsx)("div",{className:"flex lg:hidden",children:(0,d.jsx)(h.default,{src:o?"/logo-dark.png":"/logo.png",alt:"KALLIN.AI",width:112,height:112,className:"h-20 sm:h-28 w-auto transition-opacity duration-300"})}),(0,d.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[(0,d.jsx)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:(0,d.jsx)("h1",{className:`hidden lg:block text-xl font-semibold capitalize ${o?"text-white":"text-gray-900"}`,children:"dashboard"===b?"Dashboard":"user-management"===b?"User Management":"assistant-management"===b?"Assistant Management":b})}),(0,d.jsxs)("div",{className:"ml-auto flex items-center gap-x-2 lg:gap-x-6",children:[(0,d.jsx)("div",{className:"flex lg:hidden items-center gap-2",children:(0,d.jsx)("button",{onClick:p,className:`p-2 rounded-lg transition-all duration-200 ${o?"text-yellow-400 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"}`,children:o?(0,d.jsx)(s.A,{className:"h-5 w-5"}):(0,d.jsx)(t.A,{className:"h-5 w-5"})})}),(0,d.jsxs)("div",{className:"hidden lg:flex items-center gap-1 p-1 rounded-lg",style:{backgroundColor:o?"#374151":"#F3F4F6"},children:[(0,d.jsxs)("button",{onClick:()=>o&&p(),className:`flex items-center justify-center px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${!o?"bg-white text-gray-900 shadow-sm border border-gray-200":"text-gray-400 hover:text-gray-300"}`,children:[(0,d.jsx)(s.A,{className:"h-4 w-4 mr-2"}),"Light"]}),(0,d.jsxs)("button",{onClick:()=>!o&&p(),className:`flex items-center justify-center px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${o?"bg-gray-700 text-white shadow-sm border border-gray-600":"text-gray-600 hover:text-gray-800"}`,children:[(0,d.jsx)(t.A,{className:"h-4 w-4 mr-2"}),"Dark"]})]}),(0,d.jsx)("button",{type:"button",className:`lg:hidden -m-2.5 p-2.5 ${o?"text-gray-300 hover:text-white":"text-gray-700 hover:text-gray-900"}`,onClick:()=>k(!0),children:(0,d.jsx)(u.A,{className:"h-6 w-6"})})]})]})]}),(0,d.jsx)("main",{className:`py-6 ${o?"bg-gray-900":"bg-gray-50"} min-h-[calc(100vh-4rem)]`,children:(0,d.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:a})})]}),(0,d.jsx)(v.A,{isOpen:l,onClose:D,icon:(0,d.jsx)(r.A,{className:"h-6 w-6"}),title:"Sign out of your account",description:"Are you sure you want to sign out? You will need to sign in again to access your account.",primaryButton:{text:"Sign out",onClick:C,variant:"primary"},secondaryButton:{text:"Cancel",onClick:D}})]})}function B({children:a}){let b=(0,e.usePathname)(),c=(0,e.useRouter)(),{user:f,isLoading:h}=(0,g.J)();return h?(0,d.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:w.T.zB}}),(0,d.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):"/"===b||"/admin/login"===b?(0,d.jsx)(d.Fragment,{children:a}):b.startsWith("/admin")?f?(0,d.jsx)(A,{currentPage:"/admin"===b||"/admin/"===b?"dashboard":"/admin/user-management"===b?"user-management":"/admin/assistant-management"===b?"assistant-management":"/admin/admins"===b?"admins":"/admin/logs"===b?"logs":"/admin/settings"===b?"settings":"dashboard",onNavigate:a=>{"dashboard"===a?c.push("/admin"):c.push(`/admin/${a}`)},children:a}):(0,d.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:w.T.zB}}),(0,d.jsx)("p",{className:"text-gray-600",children:"Redirecting..."})]})}):(0,d.jsx)(d.Fragment,{children:a})}},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>n,metadata:()=>m});var d=c(75338),e=c(94294),f=c.n(e),g=c(81464),h=c.n(g),i=c(94149),j=c(6561),k=c(44535),l=c(80182);c(61135);let m={title:"KALLIN.AI - Admin Panel",description:"Access your Admin Panel to manage data",icons:{icon:"/kallin-fav.ico"}};function n({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,suppressHydrationWarning:!0,children:(0,d.jsx)(k.ThemeProvider,{children:(0,d.jsx)(j.ToastProvider,{children:(0,d.jsx)(i.UserProvider,{children:(0,d.jsx)(l.default,{children:a})})})})})})}},52298:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},54622:(a,b,c)=>{Promise.resolve().then(c.bind(c,48199)),Promise.resolve().then(c.bind(c,14101)),Promise.resolve().then(c.bind(c,46479)),Promise.resolve().then(c.bind(c,99999))},61135:()=>{},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},80182:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\temp\\\\development\\\\next\\\\kallin\\\\src\\\\app\\\\layout-wrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\temp\\development\\next\\kallin\\src\\app\\layout-wrapper.tsx","default")},90088:(a,b,c)=>{"use strict";c.d(b,{Zx:()=>h,vF:()=>g,vN:()=>i});var d=c(67402),e=c(13737);class f{async logActivity(a,b,c,f="MEDIUM",g){try{let h=e.j2.currentUser;if(!h)return void console.warn("No authenticated user found for logging");let i={timestamp:new Date().toISOString(),adminId:h.uid,adminName:h.displayName||h.email?.split("@")[0]||"Unknown Admin",adminEmail:h.email||"unknown@example.com",action:a,category:b,details:c,severity:f,metadata:{...g,userAgent:"Unknown",ipAddress:"Client-side"}};await (0,d.gS)(this.logsCollection,i),console.log("Activity logged:",a)}catch(a){console.error("Failed to log activity:",a)}}async getRecentLogs(a=100){try{let b=(0,d.P)(this.logsCollection,(0,d.My)("timestamp","desc"),(0,d.AB)(a)),c=await (0,d.GG)(b),e=[];return c.forEach(a=>{e.push({id:a.id,...a.data()})}),e}catch(a){return console.error("Failed to fetch logs:",a),[]}}async getLogsByAdmin(a,b=50){try{let c=(0,d.P)(this.logsCollection,(0,d._M)("adminId","==",a),(0,d.My)("timestamp","desc"),(0,d.AB)(b)),e=await (0,d.GG)(c),f=[];return e.forEach(a=>{f.push({id:a.id,...a.data()})}),f}catch(a){return console.error("Failed to fetch admin logs:",a),[]}}async getLogsByCategory(a,b=50){try{let c=(0,d.P)(this.logsCollection,(0,d._M)("category","==",a),(0,d.My)("timestamp","desc"),(0,d.AB)(b)),e=await (0,d.GG)(c),f=[];return e.forEach(a=>{f.push({id:a.id,...a.data()})}),f}catch(a){return console.error("Failed to fetch category logs:",a),[]}}async logPromptChanged(a,b,c){await this.logActivity("PROMPT_CHANGED","USER_MANAGEMENT",`Admin changed prompt for ${b} (${a})`,"MEDIUM",{targetEmail:a,targetUser:b,oldValue:c.oldPrompt,newValue:c.newPrompt})}async logMinutesAdded(a,b,c,d){await this.logActivity("MINUTES_ADDED","USER_MANAGEMENT",`Admin added ${c} minutes to ${b} (${a}). New total: ${d} minutes`,"MEDIUM",{targetEmail:a,targetUser:b,oldValue:d-c,newValue:d})}async logAdminCreated(a,b){await this.logActivity("ADMIN_CREATED","ADMIN_MANAGEMENT",`New admin account created: ${a} by ${b}`,"HIGH",{targetEmail:a,createdBy:b})}async logAdminDeleted(a){await this.logActivity("ADMIN_DELETED","ADMIN_MANAGEMENT",`Admin account deleted: ${a}`,"CRITICAL",{targetEmail:a})}async logAdminUpdated(a,b){await this.logActivity("ADMIN_UPDATED","ADMIN_MANAGEMENT",`Admin account updated: ${a}`,"MEDIUM",{targetEmail:a,newValue:b})}async logUserAction(a,b,c){a.includes("LOGIN")||a.includes("LOGOUT")||await this.logActivity(a,"USER_MANAGEMENT",c,"MEDIUM",{targetEmail:b})}async logSystemAction(a,b,c="LOW"){a.includes("LOGIN")||a.includes("LOGOUT")||a.includes("ADMIN_SIGNIN")||await this.logActivity(a,"SYSTEM",b,c)}constructor(){this.db=(0,d.aU)(),this.logsCollection=(0,d.rJ)(this.db,"activity_logs")}}let g=new f;g.logActivity.bind(g);let h=g.getRecentLogs.bind(g);g.getLogsByAdmin.bind(g);let i=g.getLogsByCategory.bind(g)},94149:(a,b,c)=>{"use strict";c.d(b,{UserProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call UserProvider() from the server but UserProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\temp\\development\\next\\kallin\\src\\contexts\\UserContext.tsx","UserProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useUser() from the server but useUser is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\temp\\development\\next\\kallin\\src\\contexts\\UserContext.tsx","useUser")},99999:(a,b,c)=>{"use strict";c.d(b,{J:()=>m,UserProvider:()=>l});var d=c(21124),e=c(38301),f=c(13737),g=c(24801),h=c(67402),i=c(90088);let j=(0,e.createContext)(void 0),k="https://3758a6b3509d.ngrok-free.app/api";function l({children:a}){let[b,c]=(0,e.useState)(null),[l,m]=(0,e.useState)(!0),[n,o]=(0,e.useState)(!1),p=async(a,b)=>{console.log("UserContext - loginUser called with:",a);try{let d=await fetch(`${k}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({username:a,password:b})}),e=await d.json();if(console.log("UserContext - API response:",e),d.ok&&e.success&&e.data&&e.data.access_token){localStorage.setItem("auth_token",e.data.access_token);let a={id:e.data.user.id,email:e.data.user.email,name:e.data.user.name||e.data.user.email?.split("@")[0]||e.data.user.username||"User",role:e.data.user.role||"user",authType:"api"};return console.log("UserContext - Setting user data:",a),c(a),localStorage.setItem("user_data",JSON.stringify(a)),{success:!0}}{let a="Unable to sign in. Please try again.";return e.message?a=e.message:401===d.status?a="Invalid username/email or password. Please check your credentials and try again.":404===d.status?a="No account found with this username/email.":d.status>=500&&(a="Server error. Please try again later."),{success:!1,error:a}}}catch(b){let a="Network error. Please check your connection and try again.";return b instanceof Error&&b.message.includes("fetch")&&(a="Unable to connect to the server. Please check your internet connection."),{success:!1,error:a}}},q=async(a,b)=>{try{await (0,g.x9)(f.j2,a,b);try{let b=(0,h.aU)(),c=(0,h.rJ)(b,"admins"),d=(0,h.P)(c,(0,h._M)("email","==",a.toLowerCase())),e=await (0,h.GG)(d);if(!e.empty){let b=e.docs[0].data();if(!0===b.disabled)return await (0,g.CI)(f.j2),await i.vF.logSystemAction("DISABLED_ADMIN_LOGIN_ATTEMPT",`Disabled admin attempted to login: ${a}`,"HIGH"),{success:!1,error:"Your account has been disabled. Please contact a system administrator for assistance."}}return{success:!0}}catch(b){return console.error("Error checking admin disabled status:",b),console.warn("Could not verify admin status, allowing login"),await i.vF.logSystemAction("ADMIN_STATUS_CHECK_FAILED",`Could not verify admin status for login: ${a}. Error: ${b}`,"MEDIUM"),{success:!0}}}catch(b){let a="Unable to sign in. Please try again.";switch(b.code){case"auth/user-not-found":a="No account found with this email address. Please check your email or create an account.";break;case"auth/wrong-password":a="Incorrect password. Please check your password and try again.";break;case"auth/invalid-email":a="Please enter a valid email address.";break;case"auth/user-disabled":a="This account has been temporarily disabled. Please contact support.";break;case"auth/too-many-requests":a="Too many failed login attempts. Please wait a moment and try again.";break;case"auth/invalid-credential":a="Invalid email or password. Please check your credentials and try again.";break;case"auth/network-request-failed":a="Network error. Please check your internet connection and try again.";break;case"auth/weak-password":a="Password should be at least 6 characters long.";break;case"auth/email-already-in-use":a="An account with this email already exists.";break;default:a=b.message&&b.message.includes("Firebase")?"Authentication service temporarily unavailable. Please try again later.":"Something went wrong during sign in. Please try again."}return{success:!1,error:a}}},r=async()=>{try{if(b?.authType==="firebase")await (0,g.CI)(f.j2);else{let a=localStorage.getItem("auth_token");a&&fetch(`${k}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"ngrok-skip-browser-warning":"true"}}).catch(()=>{}),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),c(null)}}catch(a){console.error("Logout error:",a)}};return(0,d.jsx)(j.Provider,{value:{user:b,isLoading:l,loginUser:p,loginAdmin:q,logout:r},children:a})}function m(){let a=(0,e.useContext)(j);if(void 0===a)throw Error("useUser must be used within a UserProvider");return a}}};